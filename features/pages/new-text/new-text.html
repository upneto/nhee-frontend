<div class="container mt-5">
    <div class="page-header">
        <h1>Novo Texto Filos√≥fico</h1>
        <p class="lead">Compartilhe sua reflex√£o com a comunidade</p>
    </div>

    <div class="section-divider"></div>

    <form id="newTextForm" novalidate>
        <!-- T√≠tulo -->
        <div class="mb-4">
            <label for="textTitle" class="form-label">T√≠tulo da Reflex√£o</label>
            <input 
                type="text" 
                class="form-control" 
                id="textTitle" 
                required 
                minlength="10"
                maxlength="150"
                placeholder="Ex: Sobre a Natureza do Tempo e da Consci√™ncia"
            >
            <div class="invalid-feedback">O t√≠tulo deve ter entre 10 e 150 caracteres.</div>
            <small class="form-text">Escolha um t√≠tulo claro e descritivo para sua reflex√£o.</small>
        </div>

        <!-- Conte√∫do -->
        <div class="mb-4">
            <label for="textContent" class="form-label">Conte√∫do do Texto</label>
            <textarea 
                class="form-control text-editor" 
                id="textContent" 
                rows="15" 
                required
                minlength="200"
                placeholder="Escreva sua reflex√£o filos√≥fica aqui...&#10;&#10;Desenvolva suas ideias com clareza e profundidade. Explore os conceitos, apresente argumentos e questione pressupostos. A filosofia nasce do di√°logo verdadeiro."
            ></textarea>
            <div class="invalid-feedback">O texto deve ter no m√≠nimo 200 caracteres.</div>
            <small class="form-text">
                <span id="charCount">0</span> caracteres | 
                Recomendamos textos entre 500 e 3000 caracteres para leitura confort√°vel.
            </small>
        </div>

        <!-- Tags/Conceitos -->
        <div class="mb-4">
            <label for="textTags" class="form-label">Conceitos Relacionados</label>
            <input 
                type="text" 
                class="form-control" 
                id="textTags" 
                placeholder="Ex: Tempo, Consci√™ncia, Metaf√≠sica (separe por v√≠rgula)"
            >
            <small class="form-text">Adicione de 2 a 5 conceitos que ajudem a categorizar seu texto.</small>
        </div>

        <!-- Categoria Principal -->
        <div class="mb-4">
            <label for="textCategory" class="form-label">√Årea do Conhecimento</label>
            <select class="form-control" id="textCategory" required>
                <option value="">Selecione uma √°rea...</option>
                <option value="metafisica">Metaf√≠sica</option>
                <option value="epistemologia">Epistemologia</option>
                <option value="etica">√âtica</option>
                <option value="estetica">Est√©tica</option>
                <option value="logica">L√≥gica</option>
                <option value="filosofia-politica">Filosofia Pol√≠tica</option>
                <option value="filosofia-linguagem">Filosofia da Linguagem</option>
                <option value="filosofia-ciencia">Filosofia da Ci√™ncia</option>
                <option value="fenomenologia">Fenomenologia</option>
                <option value="existencialismo">Existencialismo</option>
                <option value="outras">Outras</option>
            </select>
            <div class="invalid-feedback">Por favor, selecione uma √°rea do conhecimento.</div>
        </div>

        <!-- Campo para √Årea Customizada (exibido quando "Outras" √© selecionado) -->
        <div class="mb-4" id="customCategoryContainer" style="display: none;">
            <label for="customCategory" class="form-label">Especifique a √Årea do Conhecimento</label>
            <input type="text" class="form-control" id="customCategory" placeholder="Digite a √°rea do conhecimento...">
            <div class="invalid-feedback">Por favor, especifique a √°rea do conhecimento.</div>
        </div>

        <!-- Tipo de Texto -->
        <div class="mb-4">
            <label for="textType" class="form-label">Tipo de Texto <span style="color: #999;">(opcional)</span></label>
            <select class="form-control" id="textType">
                <option value="">Selecione o tipo...</option>
                <option value="ensaio">Ensaio</option>
                <option value="artigo">Artigo</option>
                <option value="opiniao">Opini√£o</option>
                <option value="divulgacao">Divulga√ß√£o</option>
            </select>
            <small class="form-text">Indique o formato do seu texto.</small>
        </div>

        <!-- Objetivo Declarado -->
        <div class="mb-4">
            <label for="textObjective" class="form-label">Objetivo Declarado <span style="color: #999;">(opcional)</span></label>
            <select class="form-control" id="textObjective">
                <option value="">Selecione o objetivo...</option>
                <option value="informar">Informar</option>
                <option value="argumentar">Argumentar</option>
                <option value="especular">Especular</option>
            </select>
            <small class="form-text">Qual √© o principal objetivo do seu texto?</small>
        </div>

        <!-- Grau de Fundamenta√ß√£o -->
        <div class="mb-4">
            <label for="foundationLevel" class="form-label">Grau de Fundamenta√ß√£o Pretendido <span style="color: #999;">(opcional)</span></label>
            <select class="form-control" id="foundationLevel">
                <option value="">Selecione o grau...</option>
                <option value="explorat√≥rio">Explorat√≥rio - Reflex√µes iniciais sobre o tema</option>
                <option value="fundamentado">Fundamentado - Argumenta√ß√£o com refer√™ncias</option>
                <option value="rigoroso">Rigoroso - An√°lise acad√™mica aprofundada</option>
            </select>
            <small class="form-text">Indique o n√≠vel de profundidade e fundamenta√ß√£o do seu texto.</small>
        </div>

        <div class="section-divider"></div>

        <!-- Crit√©rios de Autenticidade -->
        <div class="mb-5">
            <h4 class="mb-4">Crit√©rios de Autenticidade</h4>
            
            <!-- Compet√™ncia do Autor -->
            <div class="mb-4">
                <label class="form-label fw-bold">O autor possui compet√™ncia reconhecida para tratar do assunto?</label>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="author" id="authIsAuthor">
                    <label class="form-check-label" for="authIsAuthor">
                        Sou o autor
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="institution" id="authInstitutional">
                    <label class="form-check-label" for="authInstitutional">
                        Tem v√≠nculo institucional (universidade, editora, revista, organiza√ß√£o)
                    </label>
                </div>
                <!-- Campo para especificar institui√ß√£o -->
                <div class="mt-2" id="institutionContainer" style="display: none;">
                    <input type="text" class="form-control" id="institutionName" placeholder="Especifique a institui√ß√£o...">
                </div>
            </div>

            <!-- Verificabilidade das Afirma√ß√µes -->
            <div class="mb-4">
                <label class="form-label fw-bold">As afirma√ß√µes podem ser confirmadas de forma independente?</label>
                <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="hasVerifiableClaims">
                    <label class="form-check-label" for="hasVerifiableClaims">
                        Sim, possuo fontes verific√°veis
                    </label>
                </div>
                
                <!-- Container de Fontes -->
                <div id="sourcesContainer" style="display: none;">
                    <label class="form-label">Fontes e Refer√™ncias</label>
                    <div id="sourcesList">
                        <div class="input-group mb-2">
                            <input type="text" class="form-control source-input" placeholder="Digite a fonte (URL, livro, artigo, etc.)">
                            <button class="btn btn-outline-danger" type="button" onclick="removeSource(this)" style="display: none;">
                                <i class="bi bi-trash"></i> Remover
                            </button>
                        </div>
                    </div>
                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="addSource()">
                        + Adicionar Outra Fonte
                    </button>
                    <small class="form-text d-block mt-2">Adicione links, livros, artigos ou outras refer√™ncias que fundamentam seu texto.</small>
                </div>
            </div>
        </div>

        <div class="section-divider"></div>

        <!-- Informa√ß√£o sobre D√∫vidas -->
        <div class="info-box mb-4">
            <h5>üìå Sobre D√∫vidas/Coment√°rios</h5>
            <p>Ap√≥s publicar seu texto, outros membros da comunidade poder√£o adicionar d√∫vidas filos√≥ficas e coment√°rios cr√≠ticos. Isso enriquece o debate e permite explorar diferentes perspectivas sobre o tema.</p>
        </div>

        <!-- Bot√µes -->
        <div class="text-center mt-5">
            <button type="submit" class="btn btn-primary btn-lg">
                Publicar Texto
            </button>
            <a href="#texts" class="btn btn-secondary btn-lg ms-3">
                Cancelar
            </a>
        </div>
    </form>

    <!-- Mensagem de Sucesso (oculta inicialmente) -->
    <div id="successMessage" class="success-box mt-4" style="display: none;">
        <h4>‚úì Texto Publicado com Sucesso!</h4>
        <p>Sua reflex√£o foi adicionada √† plataforma e j√° est√° dispon√≠vel para a comunidade.</p>
        <a href="#texts" class="btn btn-primary">Ver Todos os Textos</a>
    </div>
</div>
